{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/index.ts"],"names":["main","cfgRet","succ","Error","err","globalThis","getAppDbHelper","data","connString","getMySqlDbHelper","appDb","mysql","init","getServerRedisClient","startWatchServerConfig","startServers","PlayerAuthHelper","RoomHelper","GameServerHelper","MySqlFactory"],"mappings":";;;;;AAWA,iBAAeA,IAAf,GAAsB;AAClB,QAAIC,MAAM,GAAG,MAAM;AAAA;AAAA,2DAAnB;AACA,QAAI,CAACA,MAAM,CAACC,IAAZ,EAAkB,MAAM,IAAIC,KAAJ,CAAUF,MAAM,CAACG,GAAjB,CAAN;AAElB;;AACA,QAAI,CAACC,UAAU,CAACC,cAAZ,IAA8BL,MAAM,CAACM,IAAP,CAAYC,UAA9C,EAA0D;AACtDH,MAAAA,UAAU,CAACC,cAAX,GAA4B,YAAY;AACpC,eAAO;AAAA;AAAA,0CAAaG,gBAAb,CAA8BR,MAAM,CAACM,IAAP,CAAaC,UAAb,CAAyBE,KAAzB,CAA+BC,KAA7D,CAAP;AACH,OAFD;AAGH;;AAED;AAAA;AAAA,8CAAiBC,IAAjB;AAAA;AAAA;AACA;AAAA;AAAA,kCAAWA,IAAX;AAAA;AAAA;AACA;AAAA;AAAA,8CAAiBA,IAAjB;AAAA;AAAA;AAEA,UAAM;AAAA;AAAA,uCAAN;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAxBQC,MAAAA,oB,iBAAAA,oB;AAAsBC,MAAAA,sB,iBAAAA,sB;;AACtBC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,gB,iBAAAA,gB;;AACAC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,gB,iBAAAA,gB;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;AAmBR;AACDnB,MAAAA,IAAI","sourcesContent":["\nimport './env'\n\nimport { getServerRedisClient, startWatchServerConfig } from \"./serverConfigMgr\";\nimport { startServers } from \"./server\";\nimport { PlayerAuthHelper } from \"./shared/tsgfServer/auth/PlayerAuthHelper\";\nimport { RoomHelper } from \"./shared/tsgfServer/room/RoomHelper\";\nimport { GameServerHelper } from './shared/tsgfServer/game/GameServerHelper';\nimport { MySqlFactory } from './shared/tsgfServer/DbHelper';\n\n\nasync function main() {\n    let cfgRet = await startWatchServerConfig();\n    if (!cfgRet.succ) throw new Error(cfgRet.err);\n    \n    /**实现当前项目全局定义的 获取应用数据库连接实例 的方法*/\n    if (!globalThis.getAppDbHelper && cfgRet.data.connString) {\n        globalThis.getAppDbHelper = function () {\n            return MySqlFactory.getMySqlDbHelper(cfgRet.data!.connString!.appDb.mysql);\n        }\n    }\n\n    PlayerAuthHelper.init(getServerRedisClient);\n    RoomHelper.init(getServerRedisClient);\n    GameServerHelper.init(getServerRedisClient);\n\n    await startServers();\n};\nmain();\n\n\n"]}