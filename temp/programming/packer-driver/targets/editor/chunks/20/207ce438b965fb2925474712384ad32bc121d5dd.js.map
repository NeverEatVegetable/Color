{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/gameServerCluster/api/ApiNodeExtractRoom.ts"],"names":["call","roomData","getGameClusterServer","roomMgr","extractRoom","req","roomId","error","code","RoomNotFound","succ","roomRegInfo","regInfo","roomInfo","ErrorCodes"],"mappings":";;;;;;;;;;;;;;;;;;;;;qBAIe,gBAAgBA,IAAhB,EAAkF;AAC7F,QAAIC,QAAQ,GAAGD,IAAI,CAACE,oBAAL,GAA4BC,OAA5B,CAAoCC,WAApC,CAAgDJ,IAAI,CAACK,GAAL,CAASC,MAAzD,CAAf;;AACA,QAAI,CAACL,QAAL,EAAe;AACX,aAAO,MAAMD,IAAI,CAACO,KAAL,CAAW,oBAAX,EAAiC;AAAEC,QAAAA,IAAI,EAAE;AAAA;AAAA,sCAAWC;AAAnB,OAAjC,CAAb;AACH;;AACD,WAAO,MAAMT,IAAI,CAACU,IAAL,CAAU;AACnBC,MAAAA,WAAW,EAAEV,QAAQ,CAACW,OADH;AAEnBC,MAAAA,QAAQ,EAAEZ,QAAQ,CAACY;AAFA,KAAV,CAAb;AAIH,G;;;;;;;;AAbQC,MAAAA,U,iBAAAA,U","sourcesContent":["import { ErrorCodes } from \"../../shared/tsgf/Result\";\nimport { ReqNodeExtractRoom, ResNodeExtractRoom } from \"../../shared/tsgfServer/gameCluster/protocols/PtlNodeExtractRoom\";\nimport { GameClusterApiCall } from \"../GameServerClusterMgr\";\n\nexport default async function (call: GameClusterApiCall<ReqNodeExtractRoom, ResNodeExtractRoom>) {\n    let roomData = call.getGameClusterServer().roomMgr.extractRoom(call.req.roomId);\n    if (!roomData) {\n        return await call.error('提取房间信息失败：不存在的房间ID！', { code: ErrorCodes.RoomNotFound });\n    }\n    return await call.succ({\n        roomRegInfo: roomData.regInfo,\n        roomInfo: roomData.roomInfo,\n    });\n}"]}