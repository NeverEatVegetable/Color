{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/hallServer/api/ApiGetOrCreateRoom.ts"],"names":["call","getOrAllotRet","getHallServer","gameClusterTerminal","getOrCreateRoom","conn","currPlayer","authInfo","appId","req","succ","error","err","code","data"],"mappings":";;;;;;;;;;;;;;;;;qBAKe,gBAAgBA,IAAhB,EAA2E;AACtF,QAAIC,aAAa,GAAG,MAAMD,IAAI,CAACE,aAAL,GAAqBC,mBAArB,CACrBC,eADqB,CACLJ,IAAI,CAACK,IAAL,CAAUC,UAAV,CAAqBC,QAArB,CAA8BC,KADzB,EACgCR,IAAI,CAACS,GADrC,CAA1B;;AAEA,QAAI,CAACR,aAAa,CAACS,IAAnB,EAAyB;AACrB,aAAO,MAAMV,IAAI,CAACW,KAAL,CAAWV,aAAa,CAACW,GAAzB,EAA8B;AAAEC,QAAAA,IAAI,EAAEZ,aAAa,CAACY;AAAtB,OAA9B,CAAb;AACH;;AACD,WAAO,MAAMb,IAAI,CAACU,IAAL,CAAUT,aAAa,CAACa,IAAxB,CAAb;AACH,G","sourcesContent":["\nimport { HallApiCall } from \"../HallServer\";\nimport { ErrorCodes } from \"../../shared/tsgf/Result\";\nimport { ReqGetOrCreateRoom, ResGetOrCreateRoom } from \"../../shared/hallClient/protocols/PtlGetOrCreateRoom\";\n\nexport default async function (call: HallApiCall<ReqGetOrCreateRoom, ResGetOrCreateRoom>) {\n    let getOrAllotRet = await call.getHallServer().gameClusterTerminal\n        .getOrCreateRoom(call.conn.currPlayer.authInfo.appId, call.req);\n    if (!getOrAllotRet.succ) {\n        return await call.error(getOrAllotRet.err, { code: getOrAllotRet.code });\n    }\n    return await call.succ(getOrAllotRet.data);\n}"]}