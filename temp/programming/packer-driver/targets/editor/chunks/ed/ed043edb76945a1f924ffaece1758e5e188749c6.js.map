{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/gameServer/api/ApiChangeCustomPlayerProfile.ts"],"names":["ApiChangeCustomPlayerProfile","call","ret","getGameServer","roomMgr","changeCustomPlayerProfile","conn","currPlayer","req","customPlayerProfile","robotPlayerId","succ","error","err","code","roomInfo","data"],"mappings":";;;;;AAGO,iBAAeA,4BAAf,CAA4CC,IAA5C,EAA2H;AAC9H,QAAIC,GAAG,GAAG,MAAMD,IAAI,CAACE,aAAL,GAAqBC,OAArB,CACXC,yBADW,CACeJ,IAAI,CAACK,IAAL,CAAUC,UADzB,EACqCN,IAAI,CAACO,GAAL,CAASC,mBAD9C,EACmER,IAAI,CAACO,GAAL,CAASE,aAD5E,CAAhB;;AAEA,QAAI,CAACR,GAAG,CAACS,IAAT,EAAe;AACX,aAAO,MAAMV,IAAI,CAACW,KAAL,CAAWV,GAAG,CAACW,GAAf,EAAoB;AAAEC,QAAAA,IAAI,EAAEZ,GAAG,CAACY;AAAZ,OAApB,CAAb;AACH;;AACD,WAAO,MAAMb,IAAI,CAACU,IAAL,CAAU;AACnBI,MAAAA,QAAQ,EAAEb,GAAG,CAACc;AADK,KAAV,CAAb;AAGH;;;;;;;;;;;;;;0CATqBhB,4B","sourcesContent":["import { ReqChangeCustomPlayerProfile, ResChangeCustomPlayerProfile } from \"../../shared/gameClient/protocols/PtlChangeCustomPlayerProfile\";\nimport { GameApiCall } from \"../GameServer\";\n\nexport async function ApiChangeCustomPlayerProfile(call: GameApiCall<ReqChangeCustomPlayerProfile, ResChangeCustomPlayerProfile>) {\n    let ret = await call.getGameServer().roomMgr\n        .changeCustomPlayerProfile(call.conn.currPlayer, call.req.customPlayerProfile, call.req.robotPlayerId);\n    if (!ret.succ) {\n        return await call.error(ret.err, { code: ret.code });\n    }\n    return await call.succ({\n        roomInfo: ret.data\n    });\n}"]}