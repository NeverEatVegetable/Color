{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/gameServer/api/ApiDismissRoom.ts"],"names":["ApiDismissRoom","call","ret","getGameServer","roomMgr","dismissRoom","conn","currPlayer","req","roomId","succ","error","err","code","roomInfo","data"],"mappings":";;;;;AAGO,iBAAeA,cAAf,CAA8BC,IAA9B,EAAiF;AACpF,QAAIC,GAAG,GAAG,MAAMD,IAAI,CAACE,aAAL,GAAqBC,OAArB,CAA6BC,WAA7B,CAAyCJ,IAAI,CAACK,IAAL,CAAUC,UAAnD,EAA+DN,IAAI,CAACO,GAAL,CAASC,MAAxE,CAAhB;;AACA,QAAI,CAACP,GAAG,CAACQ,IAAT,EAAe;AACX,aAAO,MAAMT,IAAI,CAACU,KAAL,CAAWT,GAAG,CAACU,GAAf,EAAoB;AAAEC,QAAAA,IAAI,EAAEX,GAAG,CAACW;AAAZ,OAApB,CAAb;AACH;;AACD,WAAO,MAAMZ,IAAI,CAACS,IAAL,CAAU;AACnBI,MAAAA,QAAQ,EAAEZ,GAAG,CAACa;AADK,KAAV,CAAb;AAGH;;;;;;;;;;;;;;4BARqBf,c","sourcesContent":["import { ReqDismissRoom, ResDismissRoom } from \"../../shared/gameClient/protocols/PtlDismissRoom\";\nimport { GameApiCall } from \"../GameServer\";\n\nexport async function ApiDismissRoom(call: GameApiCall<ReqDismissRoom, ResDismissRoom>) {\n    let ret = await call.getGameServer().roomMgr.dismissRoom(call.conn.currPlayer, call.req.roomId);\n    if (!ret.succ) {\n        return await call.error(ret.err, { code: ret.code });\n    }\n    return await call.succ({\n        roomInfo: ret.data\n    });\n}"]}