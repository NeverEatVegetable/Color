{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/gameServerCluster/api/ApiTerminalGetRoomOnlineInfo.ts"],"names":["call","roomOnlineInfo","getGameClusterServer","roomMgr","getRoomOnlineInfo","req","roomId","error","code","RoomNotFound","succ","ErrorCodes"],"mappings":";;;;;;;;;;;;;;;;;;;;;qBAIe,gBAAgBA,IAAhB,EAAsG;AAEjH,QAAIC,cAAc,GAAGD,IAAI,CAACE,oBAAL,GAA4BC,OAA5B,CAAoCC,iBAApC,CAAsDJ,IAAI,CAACK,GAAL,CAASC,MAA/D,CAArB;;AACA,QAAI,CAACL,cAAL,EAAqB;AACjB,aAAO,MAAMD,IAAI,CAACO,KAAL,CAAW,WAAX,EAAwB;AAAEC,QAAAA,IAAI,EAAE;AAAA;AAAA,sCAAWC;AAAnB,OAAxB,CAAb;AACH;;AACD,WAAO,MAAMT,IAAI,CAACU,IAAL,CAAU;AACnBT,MAAAA;AADmB,KAAV,CAAb;AAGH,G;;;;;;;;AAbQU,MAAAA,U,iBAAAA,U","sourcesContent":["import { ErrorCodes } from \"../../shared/tsgf/Result\";\nimport { ReqTerminalGetRoomOnlineInfo, ResTerminalGetRoomOnlineInfo } from \"../../shared/tsgfServer/gameCluster/protocols/PtlTerminalGetRoomOnlineInfo\";\nimport { GameClusterApiCall } from \"../GameServerClusterMgr\";\n\nexport default async function (call: GameClusterApiCall<ReqTerminalGetRoomOnlineInfo, ResTerminalGetRoomOnlineInfo>) {\n    \n    let roomOnlineInfo = call.getGameClusterServer().roomMgr.getRoomOnlineInfo(call.req.roomId);\n    if (!roomOnlineInfo) {\n        return await call.error('roomId未找到', { code: ErrorCodes.RoomNotFound });\n    }\n    return await call.succ({\n        roomOnlineInfo,\n    });\n}"]}