{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/gameServer/api/ApiJoinRoom.ts"],"names":["ApiJoinRoom","call","ret","getGameServer","roomMgr","joinRoom","conn","currPlayer","req","succ","error","err","code","roomInfo","data"],"mappings":";;;;;AAGO,iBAAeA,WAAf,CAA2BC,IAA3B,EAAwE;AAC3E,QAAIC,GAAG,GAAG,MAAMD,IAAI,CAACE,aAAL,GAAqBC,OAArB,CAA6BC,QAA7B,CAAsCJ,IAAI,CAACK,IAAL,CAAUC,UAAhD,EAA4DN,IAAI,CAACO,GAAjE,CAAhB;;AACA,QAAI,CAACN,GAAG,CAACO,IAAT,EAAe;AACX,aAAO,MAAMR,IAAI,CAACS,KAAL,CAAWR,GAAG,CAACS,GAAf,EAAoB;AAAEC,QAAAA,IAAI,EAAEV,GAAG,CAACU;AAAZ,OAApB,CAAb;AACH;;AACD,WAAO,MAAMX,IAAI,CAACQ,IAAL,CAAU;AACnBI,MAAAA,QAAQ,EAAEX,GAAG,CAACY;AADK,KAAV,CAAb;AAGH;;;;;;;;;;;;;;yBARqBd,W","sourcesContent":["import { ReqJoinRoom, ResJoinRoom } from \"../../shared/gameClient/protocols/PtlJoinRoom\";\nimport { GameApiCall } from \"../GameServer\";\n\nexport async function ApiJoinRoom(call: GameApiCall<ReqJoinRoom, ResJoinRoom>) {\n    let ret = await call.getGameServer().roomMgr.joinRoom(call.conn.currPlayer, call.req);\n    if (!ret.succ) {\n        return await call.error(ret.err, { code: ret.code });\n    }\n    return await call.succ({\n        roomInfo: ret.data,\n    });\n}"]}