{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/gameServer/api/ApiStopFrameSync.ts"],"names":["ApiStopFrameSync","call","gameServer","getGameServer","gameRoom","roomMgr","getGameRoom","conn","currPlayer","error","stopGameFrameSync","succ"],"mappings":";;;;;AAIO,iBAAeA,gBAAf,CAAgCC,IAAhC,EAAuF;AAC1F,QAAIC,UAAU,GAAGD,IAAI,CAACE,aAAL,EAAjB;AACA,QAAIC,QAAQ,GAAG,MAAMF,UAAU,CAACG,OAAX,CAAmBC,WAAnB,CAA+BL,IAAI,CAACM,IAAL,CAAUC,UAAzC,CAArB;AACA,QAAI,CAACJ,QAAL,EAAe,OAAO,MAAMH,IAAI,CAACQ,KAAL,CAAW,UAAX,CAAb;AAEfL,IAAAA,QAAQ,CAACM,iBAAT,CAA2BT,IAAI,CAACM,IAAL,CAAUC,UAArC,EAL0F,CAM1F;;AACA,WAAO,MAAMP,IAAI,CAACU,IAAL,CAAU,EAAV,CAAb;AACH;;;;;;;;;;;;;;8BARqBX,gB","sourcesContent":["\nimport { ReqStopFrameSync, ResStopFrameSync } from \"../../shared/gameClient/protocols/PtlStopFrameSync\";\nimport { GameApiCall } from \"../GameServer\";\n\nexport async function ApiStopFrameSync(call: GameApiCall<ReqStopFrameSync, ResStopFrameSync>) {\n    let gameServer = call.getGameServer();\n    let gameRoom = await gameServer.roomMgr.getGameRoom(call.conn.currPlayer);\n    if (!gameRoom) return await call.error('玩家不在房间中！');\n    \n    gameRoom.stopGameFrameSync(call.conn.currPlayer);\n    //不用等待直接返回成功\n    return await call.succ({});\n}"]}