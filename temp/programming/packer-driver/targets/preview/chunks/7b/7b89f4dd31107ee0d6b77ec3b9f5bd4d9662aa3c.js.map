{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/gameServer/api/ApiStartFrameSync.ts"],"names":["ApiStartFrameSync","call","gameServer","getGameServer","gameRoom","roomMgr","getGameRoom","conn","currPlayer","error","startGameFrameSync","succ"],"mappings":";;;;;;;;;WAIsBA,iB;;;;;2CAAf,WAAiCC,IAAjC,EAA0F;AAC7F,UAAIC,UAAU,GAAGD,IAAI,CAACE,aAAL,EAAjB;AACA,UAAIC,QAAQ,SAASF,UAAU,CAACG,OAAX,CAAmBC,WAAnB,CAA+BL,IAAI,CAACM,IAAL,CAAUC,UAAzC,CAArB;AACA,UAAI,CAACJ,QAAL,EAAe,aAAaH,IAAI,CAACQ,KAAL,CAAW,UAAX,CAAb,CAH8E,CAK7F;;AACAL,MAAAA,QAAQ,CAACM,kBAAT,CAA4BT,IAAI,CAACM,IAAL,CAAUC,UAAtC,EAN6F,CAQ7F;;AACA,mBAAaP,IAAI,CAACU,IAAL,CAAU,EAAV,CAAb;AACH,K;;;;;;;;;;;;;;;;+BAVqBX,iB","sourcesContent":["\nimport { ReqStartFrameSync, ResStartFrameSync } from \"../../shared/gameClient/protocols/PtlStartFrameSync\";\nimport { GameApiCall } from \"../GameServer\";\n\nexport async function ApiStartFrameSync(call: GameApiCall<ReqStartFrameSync, ResStartFrameSync>) {\n    let gameServer = call.getGameServer();\n    let gameRoom = await gameServer.roomMgr.getGameRoom(call.conn.currPlayer);\n    if (!gameRoom) return await call.error('玩家不在房间中！');\n\n    //开始帧同步,这个不用等待,直接异步开始\n    gameRoom.startGameFrameSync(call.conn.currPlayer);\n\n    //不用等待开始,直接返回成功\n    return await call.succ({});\n}"]}