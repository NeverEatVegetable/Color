{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/gameServer/api/ApiChangeRoom.ts"],"names":["ApiChangeRoom","call","ret","getGameServer","roomMgr","changeCurrRoom","conn","currPlayer","req","succ","error","err","code","roomInfo","data"],"mappings":";;;;;;;;;WAGsBA,a;;;;;uCAAf,WAA6BC,IAA7B,EAA8E;AACjF,UAAIC,GAAG,SAASD,IAAI,CAACE,aAAL,GAAqBC,OAArB,CAA6BC,cAA7B,CAA4CJ,IAAI,CAACK,IAAL,CAAUC,UAAtD,EAAkEN,IAAI,CAACO,GAAvE,CAAhB;;AACA,UAAI,CAACN,GAAG,CAACO,IAAT,EAAe;AACX,qBAAaR,IAAI,CAACS,KAAL,CAAWR,GAAG,CAACS,GAAf,EAAoB;AAAEC,UAAAA,IAAI,EAAEV,GAAG,CAACU;AAAZ,SAApB,CAAb;AACH;;AACD,mBAAaX,IAAI,CAACQ,IAAL,CAAU;AACnBI,QAAAA,QAAQ,EAAEX,GAAG,CAACY;AADK,OAAV,CAAb;AAGH,K;;;;;;;;;;;;;;;;2BARqBd,a","sourcesContent":["import { ReqChangeRoom, ResChangeRoom } from \"../../shared/gameClient/protocols/PtlChangeRoom\";\nimport { GameApiCall } from \"../GameServer\";\n\nexport async function ApiChangeRoom(call: GameApiCall<ReqChangeRoom, ResChangeRoom>) {\n    let ret = await call.getGameServer().roomMgr.changeCurrRoom(call.conn.currPlayer, call.req);\n    if (!ret.succ) {\n        return await call.error(ret.err, { code: ret.code });\n    }\n    return await call.succ({\n        roomInfo: ret.data\n    });\n}"]}