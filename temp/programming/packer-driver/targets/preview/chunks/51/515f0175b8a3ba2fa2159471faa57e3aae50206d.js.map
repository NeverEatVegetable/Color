{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/shared/tsgfServer/match/MatcherRequests.ts"],"names":["MatcherRequests","Array","matcherKey","_matcherKey","constructor","matchZoneKey","requestMap","Map","addRequest","matchReq","removeRequest","matchReqId","set","push","delete","remove","c","clearAllRequests","clear","length"],"mappings":";;;8BAIaA,e;;;;;;;;;;;;;;;;;;;AADb;iCACaA,e,GAAN,MAAMA,eAAN,SAA8BC,KAA9B,CAAkD;AAGhC,YAAVC,UAAU,GAAW;AAC5B,iBAAO,KAAKC,WAAZ;AACH;AAED;;;AAGAC,QAAAA,WAAW,CAACC,YAAD,EAAuB;AAC9B;;AAVJ;AASkC,eARxBF,WAQwB;AAAA,eAFlBG,UAEkB,GAFuB,IAAIC,GAAJ,EAEvB;AAE9B,eAAKJ,WAAL,GAAmBE,YAAnB;AACH;AAED;AACJ;AACA;AACA;;;AACWG,QAAAA,UAAU,CAACC,QAAD,EAAgC;AAC7C,eAAKC,aAAL,CAAmBD,QAAQ,CAACE,UAA5B;AACA,eAAKL,UAAL,CAAgBM,GAAhB,CAAoBH,QAAQ,CAACE,UAA7B,EAAyCF,QAAzC;AACA,eAAKI,IAAL,CAAUJ,QAAV;AACH;AACD;AACJ;AACA;AACA;;;AACWC,QAAAA,aAAa,CAACC,UAAD,EAA2B;AAC3C,eAAKL,UAAL,CAAgBQ,MAAhB,CAAuBH,UAAvB;AACA,eAAKI,MAAL,CAAYC,CAAC,IAAIA,CAAC,CAACL,UAAF,IAAgBA,UAAjC;AACH;AAED;;;AACOM,QAAAA,gBAAgB,GAAS;AAC5B,eAAKX,UAAL,CAAgBY,KAAhB;AACA,eAAKC,MAAL,GAAc,CAAd;AACH;;AArCoD,O","sourcesContent":["import { IMatchRequest } from \"./Models\";\n\n\n/**同匹配器下的所有匹配请求*/\nexport class MatcherRequests extends Array<IMatchRequest>{\n    /**匹配分区标识，不同分区之间数据不互通*/\n    protected _matcherKey: string;\n    public get matcherKey(): string {\n        return this._matcherKey;\n    }\n\n    /**集合内的请求字典,请求ID=>请求对象*/\n    public readonly requestMap: Map<string, IMatchRequest> = new Map<string, IMatchRequest>();\n\n    constructor(matchZoneKey: string) {\n        super();\n        this._matcherKey = matchZoneKey;\n    }\n\n    /**\n     * 加入请求\n     * @param matchReq \n     */\n    public addRequest(matchReq: IMatchRequest): void {\n        this.removeRequest(matchReq.matchReqId);\n        this.requestMap.set(matchReq.matchReqId, matchReq);\n        this.push(matchReq);\n    }\n    /**\n     * 移除指定请求\n     * @param matchReqId \n     */\n    public removeRequest(matchReqId: string): void {\n        this.requestMap.delete(matchReqId);\n        this.remove(c => c.matchReqId == matchReqId);\n    }\n\n    /**清除所有请求*/\n    public clearAllRequests(): void {\n        this.requestMap.clear();\n        this.length = 0;\n    }\n}"]}