{"version":3,"sources":["file:///E:/CocosProjects/Color/assets/ts-gameframework-master/servers/src/gameServer/api/ApiChangePlayerTeam.ts"],"names":["ApiChangePlayerTeam","call","ret","getGameServer","roomMgr","changePlayerTeam","conn","currPlayer","req","newTeamId","robotPlayerId","succ","error","err","code","roomInfo","data"],"mappings":";;;;;;;;;WAIsBA,mB;;;;;6CAAf,WAAmCC,IAAnC,EAAgG;AAEnG,UAAIC,GAAG,SAASD,IAAI,CAACE,aAAL,GAAqBC,OAArB,CACXC,gBADW,CACMJ,IAAI,CAACK,IAAL,CAAUC,UADhB,EAC4BN,IAAI,CAACO,GAAL,CAASC,SADrC,EACgDR,IAAI,CAACO,GAAL,CAASE,aADzD,CAAhB;;AAEA,UAAI,CAACR,GAAG,CAACS,IAAT,EAAe;AACX,qBAAaV,IAAI,CAACW,KAAL,CAAWV,GAAG,CAACW,GAAf,EAAoB;AAAEC,UAAAA,IAAI,EAAEZ,GAAG,CAACY;AAAZ,SAApB,CAAb;AACH;;AACD,mBAAab,IAAI,CAACU,IAAL,CAAU;AACnBI,QAAAA,QAAQ,EAAEb,GAAG,CAACc;AADK,OAAV,CAAb;AAGH,K;;;;;;;;;;;;;;;;iCAVqBhB,mB","sourcesContent":["import { ApiCall } from \"tsrpc\";\nimport { ReqChangePlayerTeam, ResChangePlayerTeam } from \"../../shared/gameClient/protocols/PtlChangePlayerTeam\";\nimport { GameApiCall } from \"../GameServer\";\n\nexport async function ApiChangePlayerTeam(call: GameApiCall<ReqChangePlayerTeam, ResChangePlayerTeam>) {\n    \n    let ret = await call.getGameServer().roomMgr\n        .changePlayerTeam(call.conn.currPlayer, call.req.newTeamId, call.req.robotPlayerId);\n    if (!ret.succ) {\n        return await call.error(ret.err, { code: ret.code });\n    }\n    return await call.succ({\n        roomInfo: ret.data\n    });\n}"]}